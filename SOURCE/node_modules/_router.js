// STACK
var h       = require('virtual-hyperscript-hook')(require('virtual-dom/h'))
var jss     = require('jss')
var css2jss = require('jss-cli/lib/cssToJss')
var routes  = require('routes')
// CUSTOM
var Header  = require('_header')
var Banner  = require('_banner')
var Content = require('_content')
var Footer  = require('_footer')

var ROUTER

module.exports = function _router (state) {
  if (!ROUTER) {
    ROUTER        = routes()
    var hHeader   = Header(state)
    var hBanner   = Banner(state)
    var hContent  = Content(state)
    var hFooter   = Footer(state)
    ROUTER.addRoute('/', function (state) {
      return h('div', { id: 'redlab' }, [
        hHeader(state),
        hBanner(state),
        hContent(state),
        hFooter(state)
      ])
    })
  }
  return ROUTER
}
